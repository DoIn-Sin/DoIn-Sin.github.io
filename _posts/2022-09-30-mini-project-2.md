---
title: 미니 프로젝트 | 제주 관광객 데이터 분석으로 제주 여행 트렌트 파악하기
description: 제주 데이터 허브에서 제공하는 공공 데이터를 가져와 분석했습니다.
categories:
- project
tags: 
- jeju
- DS
---

# 프로젝트 개요
CABTA에서 두 번째 미니 프로젝트를 시작하게 됐다. 자유 주제로 데이터를 분석하고 결론을 도출하는 프로젝트였다. 그래서어떤 주제를 하면 좋을지 고민하며 공공 데이터 포털을 뒤적거리다가 제주 관광객 관련 데이터가 많이 있음을 보고 이를 활용해 *제주 여행 트렌트를 파악해서 앞으로의 제주 여행 발전 방향을 제시하면 좋지 않을까?* 라는 발상으로 프로젝트를 시작하게 되었다.

## 문제의 정의
COVID-19의 지속적인 장기화로 호캉스보다는 캠핑을 통해 힐링하는 문화가 생겨나거나 집에서 주로 생활하다 보니 OTT 서비스를 찾는 사람들이 많아졌다. 또한, 제주 여행객 수도 감소했기 때문에 우리는 어떤 여행 트렌트가 있는지 파악하고, 어떤 sns를 사용하는 것이 홍보에 괜찮을지 분석해서 해결책을 제시하고자 한다.

## 사용한 데이터
데이터의 대부분은 제주 데이터 허브에서 제공하는 공공데이터를 사용했고, 그 외에 제주/서귀포 시청, 야놀자 리뷰 댓글 크롤링을 통해 데이터를 추가 수집하였다.

1. 각 업종별 소비처 (17~21년도) 
    - 상세 페이지 : https://www.jejudatahub.net/data/view/data/746
2. 내국인 관광지 입장객 수 추이 (09~19년도) 
    - 상세 페이지 : https://www.jejudatahub.net/data/view/data/189
3. 관광객 방문자 수 및 sns (18~21년도) 
    - 상세 페이지 : https://www.jejudatahub.net/data/view/data/879
4. 제주시 숙박업 현황 (22년 7월말 기준)
    - 상세 페이지 : https://www.jejusi.go.kr/complaints/staystatus.do
5. 서귀포시 숙박업 현황 (22년 7월말 기준)
    - 상세 페이지 : https://www.seogwipo.go.kr/communication/notify/accommodation/status.htm?_layout=playout&_view=print&act=view&seq=133052593
6. 제주도 읍면동 위도, 경도
    - 상세 페이지 : http://data.nsdi.go.kr/dataset/15145
7. 야놀자 리뷰 댓글

# 데이터 수집
데이터 수집은 야놀자 리뷰 댓글을 제외하고 위의 url에서 csv 파일을 내려받았다. 따라서 크롤링에 대한 설명만 간략하게 하겠다!!

>수집하고자 했던 데이터
행정구역 12곳의 각각 인기있는 숙박 업소 1곳의 리뷰 전체

야놀자 리뷰수와 평점을 기준으로 아래와 같이 선정했다.

- 제주시: 그랜드 하얏트 제주(4.8) (509개), 제주특별자치도 제주시 노연로 12
- 애월읍: 다인오세아노호텔(4.5) (773개), 제주특별자치도 제주시 애월읍 애월해안로 394
- 한림읍: 블루하와이 호텔(4.5) (943개), 제주특별자치도 제주시 한림읍 한림로 75
- 성산읍: 봄 그리고 가을 호텔&리조트(4.5) (3108개), 제주특별자치도 서귀포시 성산읍 해맞이해안로 2660
- 표선면: 해비치 호텔&리조트(4.7) (201개), 제주특별자치도 서귀포시 표선면 민속해안로 537
- 조천읍: 유탑유블레스호텔 제주함덕(4.6) (1315개), 제주특별자치도 제주시 조천읍 조함해안로 502
- 구좌읍: 꼬뜨도르 호텔 제주(4.6) (68개), 제주특별자치도 제주시 구좌읍 일주동로 1724
- 서귀포시: 히든 클리프 호텔 앤 네이쳐(4.7) (1140개), 제주특별자치도 서귀포시 예래해안로 542
- 한경면: 제주 금단영펜션(4.9) (357개), 제주특별자치도 제주시 한경면 일주서로 4466
- 남원읍: 코업시티호텔 하버뷰(4.3) (1045개), 제주특별자치도 서귀포시 남원읍 태위로 108
- 안덕면: 산방산에머물다펜션(4.7) (341개), 제주특별자치도 서귀포시 안덕면 사계로114번길 53-5
- 대정읍: 호텔52(4.6) (359개), 제주특별자치도 서귀포시 대정읍 신영로36번길 35

선정한 숙박 업소들의 리뷰를 크롤링 하기 위해 Selenium으로 동적 크롤러를 제작해서 리뷰 데이터를 수집할 수 있었다.

# 데이터 전처리
1~5번 파일은 특별한 전처리는 없었고, 시각화를 위해 groupby를 한게 전부이다. 

따라서 지도를 시각화 하면서 주소에 따른 위도, 경도 변환 과정과 크롤링한 리뷰 댓글 전처리 과정만 간략하게 살펴보자.

## 숙박 업소의 주소를 위도, 경도로 변환하기
인기 숙박 업소의 위치를 지도에 나타내기 위해 위도, 경도가 필요했다.

그래서 geopy에서 제공하는 Nominatim 모듈을 사용해서 변환해주었다.

```python
from geopy.geocoders import Nominatim

def geocoding(address):
    try:
        geolocoder = Nominatim(user_agent = 'South Korea', timeout=None)
        geo = geolocoder.geocode(address)

        return str(geo.latitude), str(geo.longitude)
    except AttributeError as e:
        return address
```

위처럼 함수를 구성해서 에러가 나는 주소들은 인터넷을 통해 위도 경도를 직접 알아냈다. (거의 5개 정도?)

그 결과 아래와 같이 위도 경도를 추출해낼 수 있었다.

![image](https://user-images.githubusercontent.com/77676907/193194677-bac2d32b-ceb6-426c-9dad-12f03afd0061.png)

## 야놀자 리뷰 댓글 크롤링
인기 숙박업소가 인기가 많은 요인을 찾기 위해 리뷰 댓글을 크롤링해서 분석하려 했다. 화면에 따라 달라지는 요소를 직접 클릭해야 했고,

스크롤을 내려서 리뷰들을 불러와야했기 때문에 동적 크롤러를 제작해서 크롤링 했다.

>크롤링을 하는 모습의 일부
![ezgif com-gif-maker](https://user-images.githubusercontent.com/77676907/193194129-9109a237-3f9d-408c-812c-a82d55736044.gif)

>수집한 리뷰 데이터의 일부
![image](https://user-images.githubusercontent.com/77676907/193193474-79f0eb47-bcd5-4064-8f3b-ae1f4f2534bd.png)

# 결과물
각 데이터를 분석한 결과를 대쉬보드로 만들어보고 싶어서 plotly를 통해 반응형 그래프를 그리고 web에 임베딩했다.

Tableau를 쓸 수도 있었지만, 직접 시각화 코드를 짜보고 싶었기 때문에 이번에는 직접 그레프를 그리고 web에 임베딩하는 방식을 택했다.

그래서 아래와 같이 웹을 구성하였다.

![image](https://user-images.githubusercontent.com/77676907/193195240-77983ab3-2200-4481-9569-ab07b04462e8.png)

![image](https://user-images.githubusercontent.com/77676907/193195295-3a25abc5-54f5-4528-85c1-47ce739c03c7.png)

![image](https://user-images.githubusercontent.com/77676907/193195335-a8e4146c-f917-4a50-a6a2-70d9edac7a50.png)

![image](https://user-images.githubusercontent.com/77676907/193195433-e004240c-908e-4ced-a198-8d65fd882d51.png)

>행정구역별 숙박 업소 현황
![image](https://user-images.githubusercontent.com/77676907/193195806-17419567-3adb-4dac-812d-514c1ee74108.png)

>행정구역별 이용 금액 현황
![image](https://user-images.githubusercontent.com/77676907/193195834-0db1d03c-b274-4fc4-82da-50bcdfdcbda0.png)

![image](https://user-images.githubusercontent.com/77676907/193195691-d755f78e-f340-420f-bd64-8322d0a272e3.png)

# 결론
1. 소비종목 지표 중 가장 높은 순위를 기록했던 콘도 서비스 관련 기획을 계획.
2. 홍보 시 검색 플랫폼 비율 중 높은 비율을 차지했던 인스타그램과 블로그에 홍보 글을 게재.
3. 감소하고 있는 호텔업, 음식점업의 부흥을 위해 야외 바베큐, 자연 친화적인 컨셉을 혼합한 서비스를 제공하면 좋을 것으로 예상

# 개인 소감
API로 데이터가 제공됐다면, 실시간으로 데이터를 반영해서 시각화하고 싶었는데, 그러지 못해서 아쉬움이 남았다. 그러나 이번 기회를 통해 반응형 대쉬보드를 만들 수 있어 신선한 경험이었다. 또한, 처음 그려봤던 지도, 워드클라우드를 시각화하는 경험을 할 수 있어서 분석한 결과를 보여주는 방법이 더 폭넓어지는 것 같아 좋았다.